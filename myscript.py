import sys
import requests 
import socket 
import json
if len(sys.argv)<2:
    print("usage:" + sys.argv[0]+ "<url>") #taking the first argument as file name.
    sys.exit(1)

req = requests.get("https://"+ sys.argv[1])#using get method from requests module
print("\n"+str(req.headers))#printing headers
gethost = socket.gethostbyname(sys.argv[1])#getting the hostname using the gethostnyname method in socket module
print("\nThe IP address of "+sys.argv[1]+"is:"+gethost + "\n")

req = requests.get("https://ipinfo.io/" +gethost +"/json")
print(req)
resp = json.loads(req.text)
print(resp)


print("Location:"+ resp["loc"])
print("Region:"+resp["region"])
print("city:"+resp["city"])
print("country:"+resp["country"])